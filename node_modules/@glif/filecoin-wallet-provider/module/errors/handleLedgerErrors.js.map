{"version":3,"sources":["../../src/errors/handleLedgerErrors.ts"],"names":["errors","LedgerInUseByAnotherApp","LedgerReplugError","LedgerNotFoundError","LedgerFilecoinAppNotOpenError","TransactionRejectedError","CommonLedgerError","error","console","log","message","toLowerCase","includes","toLocaleLowerCase"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AAEA,MAAM;AACJC,EAAAA,uBADI;AAEJC,EAAAA,iBAFI;AAGJC,EAAAA,mBAHI;AAIJC,EAAAA,6BAJI;AAKJC,EAAAA;AALI,IAMFL,MANJ;AAQA,OAAO,MAAMM,iBAAiB,GAAIC,KAAD,IAAyB;AACxD;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB;;AACA,MACEA,KAAK,CAACG,OAAN,CAAcC,WAAd,GAA4BC,QAA5B,CAAqC,4BAArC,KACAL,KAAK,CAACG,OAAN,CAAcC,WAAd,GAA4BC,QAA5B,CAAqC,2BAArC,CAFF,EAGE;AACA,WAAO,IAAIX,uBAAJ,CAA4BM,KAA5B,CAAP;AACD,GALD,MAKO,IACLA,KAAK,CAACG,OAAN,CAAcC,WAAd,GAA4BC,QAA5B,CAAqC,iCAArC,KACAL,KAAK,CAACG,OAAN,CAAcG,iBAAd,GAAkCD,QAAlC,CAA2C,yBAA3C,CAFK,EAGL;AACA,WAAO,IAAIV,iBAAJ,CAAsBK,KAAtB,CAAP;AACD,GALM,MAKA,IACLA,KAAK,CAACG,OAAN,CAAcC,WAAd,GAA4BC,QAA5B,CAAqC,oBAArC,KACAL,KAAK,CAACG,OAAN,CAAcC,WAAd,GAA4BC,QAA5B,CAAqC,oCAArC,CAFK,EAGL;AACA,WAAO,IAAIT,mBAAJ,CAAwBI,KAAxB,CAAP;AACD,GALM,MAKA,IACLA,KAAK,CAACG,OAAN,CAAcC,WAAd,GAA4BC,QAA5B,CAAqC,OAArC,KACAL,KAAK,CAACG,OAAN,CAAcC,WAAd,GAA4BC,QAA5B,CAAqC,8BAArC,CAFK,EAGL;AACA,WAAO,IAAIR,6BAAJ,EAAP;AACD,GALM,MAKA,IACLG,KAAK,CAACG,OAAN,CAAcG,iBAAd,GAAkCD,QAAlC,CAA2C,sBAA3C,CADK,EAEL;AACA,WAAO,IAAIP,wBAAJ,EAAP;AACD,GAJM,MAIA;AACL,WAAO,IAAIH,iBAAJ,CAAsBK,KAAtB,CAAP;AACD;AACF,CA9BM","sourcesContent":["import errors from './errors'\n\nconst {\n  LedgerInUseByAnotherApp,\n  LedgerReplugError,\n  LedgerNotFoundError,\n  LedgerFilecoinAppNotOpenError,\n  TransactionRejectedError,\n} = errors\n\nexport const CommonLedgerError = (error: Error): Error => {\n  // tslint:disable-next-line no-console\n  console.log('error', error)\n  if (\n    error.message.toLowerCase().includes('unable to claim interface.') ||\n    error.message.toLowerCase().includes('failed to open the device')\n  ) {\n    return new LedgerInUseByAnotherApp(error)\n  } else if (\n    error.message.toLowerCase().includes('transporterror: invalid channel') ||\n    error.message.toLocaleLowerCase().includes('device is already open.')\n  ) {\n    return new LedgerReplugError(error)\n  } else if (\n    error.message.toLowerCase().includes('no device selected') ||\n    error.message.toLowerCase().includes('access denied to use ledger device')\n  ) {\n    return new LedgerNotFoundError(error)\n  } else if (\n    error.message.toLowerCase().includes('28161') ||\n    error.message.toLowerCase().includes('app does not seem to be open')\n  ) {\n    return new LedgerFilecoinAppNotOpenError()\n  } else if (\n    error.message.toLocaleLowerCase().includes('transaction rejected')\n  ) {\n    return new TransactionRejectedError()\n  } else {\n    return new LedgerReplugError(error)\n  }\n}\n"],"file":"handleLedgerErrors.js"}