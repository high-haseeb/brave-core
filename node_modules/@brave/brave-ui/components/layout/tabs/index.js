import * as React from 'react';
import { StyledTabWrapper, StyledTab, StyledContent } from './style';
export default class Tabs extends React.PureComponent {
    constructor() {
        super(...arguments);
        this.generateTabs = () => {
            let content = null;
            const self = this;
            if (React.Children.count(self.props.children) === 0) {
                return {
                    tabs: null,
                    content: null
                };
            }
            const tabs = React.Children.map(self.props.children, (child, i) => {
                if (child.props['data-key'] === undefined) {
                    return null;
                }
                const key = child.props['data-key'];
                const title = child.props['data-title'] || `Tab - ${i}`;
                const selected = !!self.props.activeTabId && (self.props.activeTabId === key ||
                    (self.props.activeTabId.length === 0 &&
                        i === 0));
                if (selected) {
                    content = child.props.children;
                }
                return (React.createElement(StyledTab, { key: `${self.props.id}-tab-${key}`, onClick: self.props.onChange.bind(self, key), selected: selected }, title));
            });
            return {
                tabs,
                content
            };
        };
    }
    render() {
        const { id, className } = this.props;
        const { content, tabs } = this.generateTabs();
        return (React.createElement("div", { className: className, id: id },
            React.createElement(StyledTabWrapper, null, tabs),
            React.createElement(StyledContent, null, content)));
    }
}
//# sourceMappingURL=index.js.map